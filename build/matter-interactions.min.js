/*!
 * matter-interactions 0.0.1 by Faris Abouaki 2022-05-21
 * https://github.com/Fifourche/matter-interactions
 * License MIT
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("matter-js")):"function"==typeof define&&define.amd?define(["matter-js"],n):"object"==typeof exports?exports.MatterInteractions=n(require("matter-js")):t.MatterInteractions=n(t.Matter)}(this,function(t){return function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/libs",n(n.s=1)}([function(n,e){n.exports=t},function(t,n,e){"use strict";var o=e(0),i={name:"matter-interactions",version:"0.0.1",for:"matter-js@^0.16.1",install:function(t){t.after("Body.create",function(){i.Body.init(this)}),t.before("Engine.update",function(t){i.Engine.update(t)})},Body:{init:function(t){t.plugin.interactions=t.plugin.interactions||[]}},Interactions:{allInteractions:[],createInteraction:function(t,n,e){var o={name:t,effect:n,options:e||void 0,allBodies:[]};return i.Interactions.allInteractions.push(o),o},deleteInteraction:function(t){var n=i.Interactions.allInteractions,e=n.findIndex(function(n){return n==t});n.splice(e,1)},addBody:function(t,n,e){n.plugin.interactions={},n.plugin.interactions[t.name]={options:e},t.allBodies.push(n)},removeBody:function(t,n){delete n.plugin.interactions[t.name];var e=t.allBodies,o=e.findIndex(function(t){return t===n});e.splice(o,1)}},Engine:{update:function(t){for(var n=(t.world,i.Interactions.allInteractions),e=n.length,o=0;o<e;o+=1)for(var r=n[o],a=r.name,c=r.effect,s=r.allBodies,p=s.length,u=0;u<p;u+=1)for(var l=s[u],f=l.plugin.interactions[a].options,d=u+1;d<p;d+=1){var y=s[d],g=y.plugin.interactions[a].options;void 0!=r.options?c(l,y,f,g):c(l,y)}}},Classics:{createGravitation:function(t){return i.Interactions.createInteraction("gravitation",function(n,e){var i=void 0!=t?t:1,r=n.position.x-e.position.x,a=n.position.y-e.position.y,c=Math.pow(Math.pow(r,2)+Math.pow(a,2),1.5),s=-i*n.mass*e.mass,p={x:r/c*s,y:a/c*s};o.Body.applyForce(n,n.position,p),o.Body.applyForce(e,e.position,o.Vector.neg(p))})},createElectrostatic:function(t){return i.Interactions.createInteraction("electrostatic",function(n,e,i,r){var a=void 0!=t?t:50,c=i.charge,s=r.charge,p=n.position.x-e.position.x,u=n.position.y-e.position.y,l=Math.pow(Math.pow(p,2)+Math.pow(u,2),1.5),f=a*c*s,d={x:p/l*f,y:u/l*f};o.Body.applyForce(n,n.position,d),o.Body.applyForce(e,e.position,o.Vector.neg(d))},["charge"])}}};o.Plugin.register(i),t.exports=i}])});